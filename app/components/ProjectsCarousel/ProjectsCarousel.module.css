/* Scoped CSS Module for ProjectsCarousel
   - Keeps color variables and page background global via :global
   - Component selectors are camelCase to match imports in JSX
   - Modifier classes (isActive, isPrev, isNext, isFarPrev, isFarNext, active)
*/

/* Component-scoped wrapper to avoid global rules
   Put page-like visuals (background, grid overlay, color tokens)
   inside this wrapper so no :global() is required. The host
   component should render a top-level element with
   `className={styles.carouselWrapper}`.
*/
.carouselWrapper {
  /* Scoped design tokens (local to this wrapper) */
  --glow-primary: rgba(56, 189, 248, 0.7);
  --glow-secondary: rgba(94, 234, 212, 0.6);
  --neon-pink: rgba(236, 72, 153, 0.8);
  --neon-blue: rgba(59, 130, 246, 0.8);
  --neon-green: rgba(16, 185, 129, 0.8);

  font-family: "Exo 2", sans-serif;
  background: radial-gradient(circle at center, #0f172a, #020617);
  /* Force full viewport coverage */
  width: 100vw;
  height: 100vh;
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  z-index: 0; /* inner carouselContainer uses z-index:10 so it sits above */
}

.carouselWrapper::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: linear-gradient(rgba(14, 165, 233, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(14, 165, 233, 0.1) 1px, transparent 1px);
  background-size: 40px 40px;
  background-position: center center;
  perspective: 1000px;
  transform-style: preserve-3d;
  animation: gridMove 60s linear infinite;
}

@keyframes gridMove {
  0% { background-position: 0px 0px; opacity: 0.5; }
  50% { opacity: 0.2; }
  100% { background-position: 40px 40px; opacity: 0.5; }
}

/* Component-scoped selectors (camelCase to match `styles.*`) */
.carouselContainer {
  width: 90%;
  max-width: 1100px;
  position: relative;
  perspective: 2000px;
  padding: 3rem 0;
  z-index: 10;
}

.carouselTrack {
  display: flex;
  transition: transform 0.75s cubic-bezier(0.21, 0.61, 0.35, 1);
  transform-style: preserve-3d;
}

.carouselCard {
  min-width: 320px;
  max-width: 320px;
  margin: 0 25px;
  background: linear-gradient(135deg, rgba(30,41,59,0.85), rgba(15,23,42,0.9));
  border-radius: 1.2rem;
  overflow: hidden;
  backdrop-filter: blur(10px);
  box-shadow: 0 15px 25px rgba(0,0,0,0.5), 0 0 30px rgba(56,189,248,0.2);
  transition: all 0.6s cubic-bezier(0.21,0.61,0.35,1);
  transform-origin: center center;
  position: relative;
  border: 1px solid rgba(94,234,212,0.2);
}

.carouselCard::before {
  content: "";
  position: absolute;
  inset: -2px;
  background: linear-gradient(45deg, transparent 0%, var(--neon-blue) 25%, var(--neon-green) 50%, var(--neon-pink) 75%, transparent 100%);
  z-index: -1;
  border-radius: 1.3rem;
  filter: blur(8px);
  opacity: 0;
  transition: opacity 0.5s ease;
  animation: borderGlow 6s linear infinite;
}

@keyframes borderGlow { 0% { background-position:0% 50%; opacity:.3 } 50% { background-position:100% 50%; opacity:.5 } 100% { background-position:0% 50%; opacity:.3 } }

.carouselCard.isActive::before { opacity: 1; background-size: 300% 300%; }
.carouselCard:not(.isActive) { transform: scale(0.8) rotateY(35deg) translateZ(-100px); opacity:.45; filter: saturate(.6) brightness(.7); }
.carouselCard.isPrev { transform-origin: right center; transform: scale(.75) rotateY(45deg) translateX(-80px) translateZ(-150px); }
.carouselCard.isNext { transform-origin: left center; transform: scale(.75) rotateY(-45deg) translateX(80px) translateZ(-150px); }
.carouselCard.isActive { transform: scale(1) rotateY(0) translateZ(0); opacity:1; z-index:20; box-shadow: 0 25px 50px rgba(0,0,0,.5), 0 0 40px var(--glow-primary), inset 0 0 20px rgba(56,189,248,.1); filter: saturate(1.2) brightness(1.1); }

.cardImageContainer { position: relative; height: 200px; overflow: hidden; border-bottom: 1px solid rgba(94,234,212,0.3); }
.cardImage { width:100%; height:100%; object-fit:cover; transition: transform 1.5s ease; }
.carouselCard.isActive .cardImage { transform: scale(1.05); }

.cardContent { padding: 1.75rem; color: #f1f5f9; }
.cardTitle { font-family: 'Orbitron', sans-serif; margin-bottom: .75rem; letter-spacing: 1px; position: relative; display:inline-block }
.cardTitle::after { content: attr(data-text); position:absolute; top:0; left:0; color: transparent; -webkit-text-stroke: .5px; filter: blur(3px); opacity:0; transition: opacity .3s ease }
.carouselCard.isActive .cardTitle::after { opacity:.8 }
.cardDescription { font-size:.9rem; line-height:1.6; color: rgba(241,245,249,.8); font-weight:300 }

.cardProgress { height:3px; background: rgba(56,189,248,0.15); margin-top:1.25rem; position:relative; border-radius:4px; overflow:hidden }
.progressValue { position:absolute; height:100%; background: linear-gradient(90deg, var(--neon-blue), var(--neon-green)); border-radius:4px; width:75% }
.cardStats { display:flex; justify-content:space-between; margin-top:.5rem; font-size:.7rem; color: rgba(241,245,249,.6) }

.carouselButton { position:absolute; top:50%; transform: translateY(-50%); background: rgba(12,74,110,0.3); color:#38bdf8; border:1px solid rgba(14,165,233,.4); border-radius:50%; width:48px; height:48px; display:flex; justify-content:center; align-items:center; cursor:pointer; z-index:20; transition: all .3s ease; backdrop-filter: blur(5px); box-shadow: 0 0 15px rgba(56,189,248,.2) }
.carouselButton:hover { background-color: rgba(14,165,233,.3); color:#e0f2fe; transform: translateY(-50%) scale(1.1); box-shadow:0 0 20px rgba(56,189,248,.4) }
.carouselButton:active { transform: translateY(-50%) scale(.95) }
.carouselButton::before { content:''; position:absolute; inset:-2px; background: radial-gradient(circle, var(--neon-blue), transparent 70%); border-radius:50%; opacity:0; z-index:-1; transition: opacity .3s ease }
.carouselButton:hover::before { opacity:.7; animation: pulseGlow 2s infinite }
@keyframes pulseGlow { 0%{ transform:scale(1); opacity:.7 } 50%{ transform:scale(1.2); opacity:.3 } 100%{ transform:scale(1); opacity:.7 } }
.prev { left:-24px }
.next { right:-24px }

.carouselIndicators { display:flex; justify-content:center; gap:10px; margin-top:2rem }
.indicator { width:24px; height:4px; background: rgba(56,189,248,0.2); border-radius:2px; cursor:pointer; transition: all .3s ease }
.indicator.active { background: #38bdf8; box-shadow: 0 0 10px #38bdf8 }

.techDetails { position:absolute; bottom:0; left:0; right:0; background: rgba(15,23,42,0.85); backdrop-filter: blur(10px); padding:.75rem; transform: translateY(100%); transition: transform .4s cubic-bezier(.21,.61,.35,1); z-index:25; border-top: 1px solid rgba(94,234,212,.3) }
.carouselCard.isActive:hover .techDetails { transform: translateY(0) }
.techTag { display:inline-block; margin-right:8px; margin-bottom:8px; padding:4px 8px; font-size:.7rem; background: rgba(56,189,248,.15); border:1px solid rgba(56,189,248,.3); border-radius:4px; color:#7dd3fc }
.isFarNext { transform: scale(.8) rotateY(-45deg) translateZ(-100px) !important }

@media (max-width: 768px) {
  .carouselButton { width:40px; height:40px }
  .prev { left:5px }
  .next { right:5px }
  .carouselCard { min-width:260px; max-width:260px; margin: 0 15px }
  .carouselCard:not(.isActive) { transform: scale(.85) rotateY(25deg) }
  .carouselCard.isPrev { transform: scale(.8) rotateY(30deg) translateX(-40px) }
  .carouselCard.isNext { transform: scale(.8) rotateY(-30deg) translateX(40px) }
  .cardImageContainer { height: 160px }
}
